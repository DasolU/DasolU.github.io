---
layout: post
title: Queue êµ¬í˜„? list.pop(0) vs. deque.popleft()
subtitle: ë‘˜ ì¤‘ì— ë­˜ ì¨ì•¼í•˜ì§€? íš¨ìœ¨ì„±ì„ ë”°ì ¸ë³´ì!
tags: [CodingTest, Efficiency]
categories: CodingTest
---

[BFS ì•Œê³ ë¦¬ì¦˜][3]ì„ ì‘ì„±í•  ë•Œ queue(í)ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ list ìë£Œí˜•ì„ ì¦ê²¨ ì‚¬ìš©í•˜ì…¨ë‚˜ìš”? 

í•˜ì§€ë§Œ íì—ì„œ ë°ì´í„°ë¥¼ ì œê±°í•  ë•Œ queue.pop(0)ì„ ì‚¬ìš©í•˜ë©´ ì½”ë”©í…ŒìŠ¤íŠ¸ì—ì„œ íš¨ìœ¨ì„± ì ìˆ˜ğŸ˜…ê°€ ë‚®ê²Œ ë‚˜ì˜¬ ìˆ˜ ìˆì–´ìš”! (ì•„ë˜ ì˜ˆì‹œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.) 

íš¨ìœ¨ì„±ì„ ë†’ì´ê¸° ìœ„í•´ íë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ê³µë¶€í•˜ê³  ë‘ ë°©ë²•ì˜ íš¨ìœ¨ì„±ì„ ë¹„êµí–ˆìŠµë‹ˆë‹¤.



## Queueë¥¼ ë§Œë“œëŠ” ë°©ë²•ë“¤

### List ì‚¬ìš©

```python
queue = [] 
node = queue.pop(0)	# ê°€ì¥ ì™¼ìª½ node ì œê±° 
queue.append(new_node)	# ê°€ì¥ ì˜¤ë¥¸ìª½ì— node ì¶”ê°€
```

#### ë‹¨ì : ì‚½ì…&ì‚­ì œ íš¨ìœ¨ì„± ë‚®ë‹¤.

* Contiguous list ìë£Œí˜•ì€ linear list(ì„ í˜• ë¦¬ìŠ¤íŠ¸)ì— ì†í•˜ê¸° ë•Œë¬¸ì— **ë¹ˆ ê³µê°„ ì—†ì´ ì°¨ë¡€ëŒ€ë¡œ ë°ì´í„°ë¥¼ ì €ì¥**í•˜ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ listì— ë°ì´í„°ë¥¼ ì¶”ê°€/ì œê±°í•˜ë©´ ì¶”ê°€/ì œê±°í•˜ë ¤ëŠ” ìœ„ì¹˜ ë’·ë¶€ë¶„ì˜ **ë°ì´í„°ë¥¼ ì´ë™**í•©ë‹ˆë‹¤.

* ì¦‰, listë¡œ êµ¬í˜„í•œ íì— ë°ì´í„°ë¥¼ ì¶”ê°€/ì œê±°í•  ë•Œ, ì‹œê°„ ë³µì¡ë„ëŠ” **O(n)**ì´ë¯€ë¡œ ë°ì´í„° ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.

#### ì¥ì : ì‰¬ìš´ ë°ì´í„° ì ‘ê·¼ 



### Deque(ë°í¬) ì‚¬ìš©

ğŸŒŸìƒˆë¡œìš´ ë°©ë²• 

collections ëª¨ë“ˆì´ ì œê³µí•˜ëŠ” Deque(ë°í¬)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

Deque(double-ended queue)ëŠ” ë°ì´í„°ë¥¼ ì–‘ë°©í–¥ì—ì„œ ì¶”ê°€í•˜ê³  ì œê±°í•  ìˆ˜ ìˆëŠ” ìë£Œ êµ¬ì¡°ì…ë‹ˆë‹¤.

ë”°ë¼ì„œ ë°í¬ ìë£Œ êµ¬ì¡°ì˜ ì™¼ìª½ì—ì„œ ë°ì´í„°ë¥¼ ì œê±°í•˜ê³  ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì‚½ì…í•˜ë©´ íì™€ ê°™ì€ ê¸°ëŠ¥ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.

```python
from collections import deque
queue = deque()
node = queue.popleft()	# ê°€ì¥ ì™¼ìª½ node ì œê±° 
queue.append(new_node)	# ê°€ì¥ ì˜¤ë¥¸ìª½ì— node ì¶”ê°€
```

#### ì¥ì : ì‚½ì…&ì‚­ì œ íš¨ìœ¨ì„±ì´ ë†’ë‹¤.

* dequeëŠ” [linked list ìë£Œí˜•][4]ì„ ì‚¬ìš©í•œë‹¤ê³  í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ë°ì´í„°ë¥¼ ì¶”ê°€/ì œê±°í•  ë•Œ, ì‹œê°„ ë³µì¡ë„ëŠ” **O(1)**ì´ë¯€ë¡œ ë°ì´í„° ê°œìˆ˜ê°€ ë§ì„ìˆ˜ë¡ listë¡œ êµ¬í˜„í•œ queueë³´ë‹¤ ì›”ë“±í•˜ê²Œ íš¨ìœ¨ì ì´ê²Œ ë©ë‹ˆë‹¤.

* ì‹œê°„ ë³µì¡ë„ì— ëŒ€í•œ ë‚´ìš©ì€ [ì´ ë¸”ë¡œê·¸][1] ì™€ [ì´ ê¸€][5]ì„ ì°¸ê³ í•´ì„œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

#### ë‹¨ì : ì–´ë ¤ìš´ ë°ì´í„° ì ‘ê·¼



## ì˜ˆì‹œ

í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ìŠ¤íƒ/í ì¹´í…Œê³ ë¦¬ì˜ [ì£¼ì‹ê°€ê²©][2] ë¬¸ì œì— ë‘ ê°€ì§€ ë°©ë²•ì„ ì ìš©í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

### list.pop(0)

```python
def solution1(prices):
    answer = []
    q = prices # listë¡œ ë§Œë“  queue
    q_idx = list(range(0,len(prices)))	# listë¡œ ë§Œë“  queue
    max_idx = len(prices)-1
    while q:
        time = 0
        node = q.pop(0)
        node_idx = q_idx.pop(0)
        for i in range(len(q)):
            if node>q[i]:
                time = (i+node_idx+1)-node_idx
                break
        if time == 0:
            time = max_idx-node_idx
        answer.append(time)
    return answer
```

#### ì„±ëŠ¥

solution1ì„ í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ì—ì„œ ì±„ì í•˜ë©´ ì‹œê°„ ì´ˆê³¼ë¡œ ì¸í•´ ì‹¤íŒ¨í•©ë‹ˆë‹¤.âŒ

```python
ì •í™•ì„±: 66.7
íš¨ìœ¨ì„±: 0.0 (ì‹œê°„ ì´ˆê³¼)
```

```python
ì •í™•ë„ í…ŒìŠ¤íŠ¸
í…ŒìŠ¤íŠ¸ 1 ã€‰ 	 í†µê³¼ (0.01ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰    í†µê³¼ (0.09ms, 10.1MB)
í…ŒìŠ¤íŠ¸ 3 ã€‰    í†µê³¼ (0.97ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 4 ã€‰    í†µê³¼ (1.17ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 5 ã€‰    í†µê³¼ (1.37ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 6 ã€‰    í†µê³¼ (0.04ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 7 ã€‰    í†µê³¼ (0.68ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 8 ã€‰    í†µê³¼ (0.86ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 9 ã€‰    í†µê³¼ (0.05ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 10 ã€‰   í†µê³¼ (1.30ms, 10.3MB)
```

### deque.popleft()

solution1ê³¼ ë™ì¼í•˜ì§€ë§Œ dequeë¡œ ë°”ê¾¼ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

```python
from collections import deque
def solution2(prices):
    answer = []
    q = deque(prices)	# dequeë¡œ ë§Œë“  queue
    q_idx = deque(list(range(0,len(prices))))	# dequeë¡œ ë§Œë“  queue
    max_idx = len(prices)-1
    while q:
        time = 0
        node = q.popleft()
        node_idx = q_idx.popleft()
        for i in range(len(q)):
            if node>q[i]:
                time = (i+node_idx+1)-node_idx
                break
        if time == 0:
            time = max_idx-node_idx
        answer.append(time)
    return answer
```

#### ì„±ëŠ¥

íš¨ìœ¨ì„±ì´ ë†’ì•„ì¡ŒìŠµë‹ˆë‹¤! â­•ï¸

```python
dequeue ì‚¬ìš©
ì •í™•ì„±: 66.7
íš¨ìœ¨ì„±: 26.7
í•©ê³„: 93.3 / 100.0
```

```python
ì •í™•ë„ í…ŒìŠ¤íŠ¸
í…ŒìŠ¤íŠ¸ 1 ã€‰    í†µê³¼ (0.01ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰    í†µê³¼ (0.08ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 3 ã€‰    í†µê³¼ (0.92ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 4 ã€‰    í†µê³¼ (1.07ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 5 ã€‰    í†µê³¼ (1.09ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 6 ã€‰    í†µê³¼ (0.04ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 7 ã€‰    í†µê³¼ (0.40ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 8 ã€‰    í†µê³¼ (0.70ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 9 ã€‰    í†µê³¼ (0.05ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 10 ã€‰   í†µê³¼ (1.79ms, 10.3MB)
íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸
í…ŒìŠ¤íŠ¸ 1 ã€‰    í†µê³¼ (247.57ms, 21.2MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰    í†µê³¼ (149.96ms, 19MB)
í…ŒìŠ¤íŠ¸ 3 ã€‰    ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 4 ã€‰    í†µê³¼ (193.79ms, 19.7MB)
í…ŒìŠ¤íŠ¸ 5 ã€‰    í†µê³¼ (97.84ms, 18.3MB)
```



[1]: https://www.daleseo.com/python-queue/

[2]: https://programmers.co.kr/learn/courses/30/parts/12081
[3]: https://dasolu.github.io/algorithm/2021/04/20/BFS.html
[4]: https://dasolu.github.io/basic/2021/04/14/data-structure-array-linked-list.html

[5]: https://docs.python.org/3/library/collections.html#collections.deque

